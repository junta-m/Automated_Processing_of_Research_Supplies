<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>科研費自動化システム</title>
	<!-- <link rel="stylesheet" href="styles.css"> -->
	<link rel="stylesheet" href="./styles.css">
</head>

<body>
	<div class="container">
		<div class="left-panel">
			<div class="pdf-preview">
				<h3>領収書PDF</h3>
				<input type="file" id="pdfUpload" accept=".pdf">
				<!-- <div id="pdfPreview" style="width: 100%; height: 500px; border: 1px solid #ddd; overflow: auto; position: relative;"></div> -->
				<div id="pdfPreview">
				</div>

			</div>
			<div align="center">
				<button
					id="Json-import"
					class="pain-button"
					data-tooltip="JSONファイルを読み込み, フォームに情報を反映します."
				>
					JSON入力
				</button>
				<button
					id="Json-export"
					class="pain-button"
					data-tooltip="フォームに入力された情報をJSONファイルに出力します."
				>
					JSON出力
				</button>
				<button
					id="pdf-import"
					class="pain-button"
					data-tooltip="現在試験的にtest.jsonの情報をフォームに反映します."
				>
					PDF情報転記
				</button>
			</div>
		</div>

		<div class="right-panel">
			<div class="form-section">

				<div class="researcher-info">
					<input type="text" id="研究者番号" placeholder="研究者番号">
					<input type="text" id="研究者氏名" placeholder="研究者氏名">
					<button
						id="研究者番号"
						class="kadai-button"
						data-tooltip="研究者名からCiNiiにアクセスして研究者番号を取得します.検索結果は, ローカルDBに保存されます."
					>
						研究者番号 CiNii検索
					</button>
				</div>

				<div class="project-search">
					<input list="projectOptions" id="研究課題番号" placeholder="研究課題番号">
					<datalist id="projectOptions">
						<!-- 動的に候補が挿入される -->
					</datalist>

					<button
						id="asign-info-from-db"
						class="kadai-button"
						data-tooltip="課題番号からローカルのDBを利用して課題情報を取得します"
					>
						課題情報DB検索
					</button>
					<button
						id="local-db"
						class="kadai-button"
						data-tooltip="研究者番号を手入力された際に,
						課題番号の一覧をローカルDBから取得する為のボタンです."
						data-html="true"
					>
						課題番号DB検索
					</button>
					<button
						id="KAKEN"
						class="kadai-button"
						data-tooltip="課題番号を手入力された際に,
						課題番号の一覧をKAKEN DBから取得する為のボタンです.
						検索結果は, ローカルDBに保存されます."
					>
						課題番号 KAKEN検索
					</button>
				</div>

				<div class="input-line">
					<input list="project-list" id="課題種別" placeholder="課題種別">

					<datalist id="project-list">
						<option value="基盤研究(S)">基盤研究(S)</option>
						<option value="基盤研究(A)">基盤研究(A)</option>
						<option value="基盤研究(B)">基盤研究(B)</option>
						<option value="基盤研究(C)">基盤研究(C)</option>
						<option value="挑戦的萌芽研究">挑戦的萌芽研究</option>
						<option value="若手研究">若手研究</option>
						<option value="学術研究助成基金">学術研究助成基金</option>
						<option value="特別研究員奨励費">特別研究員奨励費</option>
						<option value="特定領域研究">特定領域研究</option>
						<option value="国際共同研究">国際共同研究</option>
						<option value="科学研究費補助金">科学研究費補助金</option>
						<option value="その他">その他</option>
					</datalist>

					<input type="text" id="課題名" placeholder="課題名">
				</div>

				<div class="input-line">
					<input type="text" id="代表者" placeholder="代表者">
					<input type="text" id="分担者" placeholder="分担者">
				</div>

				<div class="input-line">
					<div class="input-line-group">
						<div>納品</div>
						<select id="納品キャンパス">
							<option value="瀬田">瀬田</option>
							<option value="深草">深草</option>
							<option value="大宮">大宮</option>
						</select>
						<input type="text" id="納品先" placeholder="棟＋部屋">
					</div>

					<div class="input-line-group">
						<span>設置</span>
						<select id="設置キャンパス">
							<option value="瀬田">瀬田</option>
							<option value="深草">深草</option>
							<option value="大宮">大宮</option>
						</select>
						<input type="text" id="設置先" placeholder="棟＋部屋">
					</div>

					</div>

				<div class="payment-info">
					<select id="payment" class="payment-method">
						<option value="立替">立替</option>
						<option value="業者払い">業者払い</option>
					</select>
					<input type="text" id="支払先" placeholder="支払先">
					<input type="text" id="支払者" placeholder="支払者">
				</div>

				<div class="items-table">

					<!-- {{{ table -->
					<table style="width: 100%; border-collapse: collapse;">
						<thead>
							<tr>
								<th style="width: 25%;">項目</th>
								<th style="width: 15%;">メーカー</th>
								<th style="width: 15%;">型番</th>
								<th style="width: 7%;">個数</th>
								<th style="width: 10%;">単価</th>
								<th style="width: 10%;">金額</th>
								<th style="width: 13%;">費目</th>
							</tr>
						</thead>
						<tbody id="itemsTableBody">
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目01"></td>
								<td contenteditable="true" id="メーカー01"></td>
								<td contenteditable="true" id="型番01"></td>
								<td contenteditable="true" data-type="number" id="個数01" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価01" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額01" style="text-align: right;"></td>
								<td>
									<select id="費目01" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目02"></td>
								<td contenteditable="true" id="メーカー02"></td>
								<td contenteditable="true" id="型番02"></td>
								<td contenteditable="true" data-type="number" id="個数02" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価02" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額02" style="text-align: right;"></td>
								<td>
									<select id="費目02" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目03"></td>
								<td contenteditable="true" id="メーカー03"></td>
								<td contenteditable="true" id="型番03"></td>
								<td contenteditable="true" data-type="number" id="個数03" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価03" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額03" style="text-align: right;"></td>
								<td>
									<select id="費目03" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目04"></td>
								<td contenteditable="true" id="メーカー04"></td>
								<td contenteditable="true" id="型番04"></td>
								<td contenteditable="true" data-type="number" id="個数04" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価04" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額04" style="text-align: right;"></td>
								<td>
									<select id="費目04" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目05"></td>
								<td contenteditable="true" id="メーカー05"></td>
								<td contenteditable="true" id="型番05"></td>
								<td contenteditable="true" data-type="number" id="個数05" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価05" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額05" style="text-align: right;"></td>
								<td>
									<select id="費目05" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目06"></td>
								<td contenteditable="true" id="メーカー06"></td>
								<td contenteditable="true" id="型番06"></td>
								<td contenteditable="true" data-type="number" id="個数06" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価06" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額06" style="text-align: right;"></td>
								<td>
									<select id="費目06" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目07"></td>
								<td contenteditable="true" id="メーカー07"></td>
								<td contenteditable="true" id="型番07"></td>
								<td contenteditable="true" data-type="number" id="個数07" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価07" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額07" style="text-align: right;"></td>
								<td>
									<select id="費目07" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目08"></td>
								<td contenteditable="true" id="メーカー08"></td>
								<td contenteditable="true" id="型番08"></td>
								<td contenteditable="true" data-type="number" id="個数08" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価08" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額08" style="text-align: right;"></td>
								<td>
									<select id="費目08" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目09"></td>
								<td contenteditable="true" id="メーカー09"></td>
								<td contenteditable="true" id="型番09"></td>
								<td contenteditable="true" data-type="number" id="個数09" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価09" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額09" style="text-align: right;"></td>
								<td>
									<select id="費目09" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
							<!-- {{{ tr -->
							<tr>
								<td contenteditable="true" id="項目10"></td>
								<td contenteditable="true" id="メーカー10"></td>
								<td contenteditable="true" id="型番10"></td>
								<td contenteditable="true" data-type="number" id="個数10" style="text-align: center;"></td>
								<td contenteditable="true" data-type="number" id="単価10" style="text-align: right;"></td>
								<td contenteditable="true" data-type="number" id="金額10" style="text-align: right;"></td>
								<td>
									<select id="費目10" class="item_type">
										<option value="消耗品">消耗品</option>
										<option value="用品">用品</option>
										<option value="備品">備品</option>
									</select>
								</td>
							</tr>
							<!-- tr }}} -->
					</table>

					<!-- }}} -->

				</div>
			</div>

			<div id="system-input">
				<button id="form-apply">科研システム入力</button>
				<button
					id="db-updated"
					class="pain-button"
					data-tooltip="フォームに入力された課題情報をローカルDBに保存します."
				>
					DB更新
				</button>
			</div>
		</div>
	</div>

	<!-- <script src="/client.js"></script> -->
	<script src="./json_imp.js"></script>
	<script src="./json_exp.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.15.349/pdf.min.js"></script>
	<script src="./pdf_preview.js"></script>
	<!-- <script src="/zoom.js"></script> -->
	<script src="./pdf_demo.js"></script>
	<script src="./input_rule.js"></script>
	<!-- <script src="/datalist.js"></script> -->
	<script src="./db_fetch.js"></script>
	<script src="./db_update.js"></script>


</body>

</html>
